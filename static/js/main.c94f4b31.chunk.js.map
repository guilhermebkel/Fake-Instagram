{"version":3,"sources":["components/Header.js","services/api.js","pages/Feed.js","pages/New.js","routes.js","App.js","index.js","assets/logo.svg","assets/camera.svg","assets/more.svg","assets/like.svg","assets/comment.svg","assets/send.svg"],"names":["Header","react_default","a","createElement","id","className","react_router_dom","to","src","logo","alt","camera","api","axios","create","baseURL","Feed","state","feed","registerToSocket","socket","io","on","newPost","_this","setState","concat","Object","toConsumableArray","likedPost","map","post","_id","handleLike","this","get","response","console","log","data","_this2","key","author","place","more","image","type","onClick","like","comment","send","likes","description","hashtags","Component","New","handleSubmit","_callee","event","regenerator_default","wrap","_context","prev","next","preventDefault","FormData","append","props","history","push","stop","handleImageChange","target","files","handleChange","defineProperty","name","value","onSubmit","onChange","placeholder","Routes","react_router","path","exact","component","App","Header_Header","routes","ReactDOM","render","basename","process","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.c94f4b31.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Header.css';\n\nimport logo from '../assets/logo.svg';\nimport camera from '../assets/camera.svg';\n\nexport default function Header() {\n    return(\n        <header id=\"main-header\">\n            <div className=\"header-content\">\n                <Link to=\"/\">\n                    <img src={logo} alt=\"InstaRocket\" />\n                </Link>\n                \n                <Link to=\"/new\">\n                    <img src={camera} alt=\"Enviar publicação\" />\n                </Link>    \n            </div>\n        </header>\n    );\n}","import axios from 'axios';\n\nconst api = axios.create({\n    baseURL: \"https://instagramfakeapp.herokuapp.com\"\n})\n\nexport default api;","import React, { Component } from 'react';\nimport api from '../services/api';\nimport io from 'socket.io-client';\n\nimport './Feed.css';\n\nimport more from '../assets/more.svg';\nimport like from '../assets/like.svg';\nimport comment from '../assets/comment.svg';\nimport send from '../assets/send.svg';\n\nclass Feed extends Component {\n\n    state = {\n        feed: [],\n    };\n\n    async componentDidMount() {\n\n        this.registerToSocket();\n\n        const response = await api.get('posts');\n        console.log(response);\n\n        this.setState({\n            feed: response.data\n        });\n    }\n\n    registerToSocket = () => {\n        const socket = io('https://instagramfakeapp.herokuapp.com');\n        \n        socket.on('post', newPost => {\n            this.setState({\n                feed: [newPost, ...this.state.feed]\n            });\n        })\n\n        socket.on('like', likedPost => {\n            this.setState({\n                feed: this.state.feed.map(post => \n                    post._id === likedPost._id ? likedPost : post    \n                )\n            });\n        })\n    }\n\n    handleLike = id => {\n        api.post(`/posts/${id}/like`);\n    }\n\n    render() {\n        return (\n            <section id=\"post-list\">\n                {this.state.feed.map(post => (\n                    <article key={post._id}>\n                        <header>\n                            <div className=\"user-info\">\n                                <span>{post.author}</span>\n                                <span className=\"place\">{post.place}</span>\n                            </div>\n                            <img src={more} alt=\"Mais\" />\n                        </header>\n\n                        <img src={`https://instagramfakeapp.herokuapp.com/files/${post.image}`} alt=\"\" />\n\n                        <footer>\n                            <div className=\"actions\">\n                                <button type=\"button\" onClick={() => this.handleLike(post._id)}>\n                                    <img src={like} alt=\"\" />\n                                </button>\n                                <img src={comment} alt=\"\" />\n                                <img src={send} alt=\"\" />\n                            </div>\n\n                            <strong>{post.likes} curtidas</strong>\n\n                            <p>\n                                {post.description}\n                                <span>{post.hashtags}</span>\n                            </p>\n                        </footer>\n                    </article>\n                ))}\n            </section>\n        )\n    }\n}\n\nexport default Feed;","import React, { Component } from 'react';\nimport api from '../services/api'\n\nimport './New.css'\n\nclass New extends Component {\n\n    state = {\n        image: null,\n        author: '',\n        place: '',\n        description: '',\n        hashtags: '',\n    };\n\n    handleSubmit = async event => {\n        event.preventDefault();\n\n        const data = new FormData();\n\n        data.append('image', this.state.image);\n        data.append('author', this.state.author);\n        data.append('place', this.state.place);\n        data.append('description', this.state.description);\n        data.append('hashtags', this.state.hashtags);\n\n        await api.post('posts', data)\n        \n        this.props.history.push('/');\n\n    }\n\n    handleImageChange = event => {\n        this.setState({\n            image: event.target.files[0]\n        })\n    }\n\n    handleChange = event => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    }\n\n    render() {\n        return (\n            <form id=\"new-post\" onSubmit={this.handleSubmit}>\n                <input \n                    type=\"file\" \n                    onChange={this.handleImageChange}\n                />\n\n                <input \n                    type=\"text\" \n                    name=\"author\" \n                    placeholder=\"Autor do post\" \n                    onChange={this.handleChange}\n                    value={this.state.author}\n                />\n                \n                <input \n                    type=\"text\" \n                    name=\"place\" \n                    placeholder=\"Local do post\"\n                    onChange={this.handleChange}\n                    value={this.state.place} \n                />\n\n                <input \n                    type=\"text\" \n                    name=\"description\" \n                    placeholder=\"Descrição do post\" \n                    onChange={this.handleChange}\n                    value={this.state.description}\n                />\n\n                <input \n                    type=\"text\" \n                    name=\"hashtags\" \n                    placeholder=\"Hashtags do post\" \n                    onChange={this.handleChange}\n                    value={this.state.hashtags}\n                />\n\n                <button type=\"submit\">Enviar</button>\n            </form>\n        )\n    }\n}\n\nexport default New;","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport Feed from './pages/Feed';\nimport New from './pages/New';\n\nfunction Routes() {\n    return(\n        <Switch>\n            <Route path=\"/\" exact component={Feed} />\n            <Route path=\"/new\" component={New} />\n        </Switch>\n    );\n}\n\nexport default Routes;","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport Header from './components/Header';\nimport Routes from './routes';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Header />\n      <Routes />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport './global.css'\n\nReactDOM.render(\n<BrowserRouter basename={process.env.PUBLIC_URL}>\n    <Route exact path=\"\" component={App} />\n</BrowserRouter>\n, document.getElementById('root'));","module.exports = __webpack_public_path__ + \"static/media/logo.83fd0bcc.svg\";","module.exports = __webpack_public_path__ + \"static/media/camera.787c6af9.svg\";","module.exports = __webpack_public_path__ + \"static/media/more.22d960a9.svg\";","module.exports = __webpack_public_path__ + \"static/media/like.00e13584.svg\";","module.exports = __webpack_public_path__ + \"static/media/comment.e2a49935.svg\";","module.exports = __webpack_public_path__ + \"static/media/send.55e74cfd.svg\";"],"sourceRoot":""}